dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#plotting
ggplot(us2024,aes(x=end_date, y=pct, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
facet_wrap(~type,nrow = 2)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#plotting
ggplot(plmean,aes(x=end_date, y=pct_02da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
facet_wrap(~type,nrow = 2)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#plotting
ggplot(plmean,aes(x=end_date, y=pct_21da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
facet_wrap(~type,nrow = 2)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#plotting
ggplot(plmean,aes(x=end_date, y=pct_21da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
facet_wrap(~type,nrow = 2)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#plotting
ggplot(plmean,aes(x=end_date, y=pct_21da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
facet_wrap(~type,nrow = 2)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#plotting
plmean$type <- factor(df$supp, levels = c("2_way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#plotting
plmean$type <- factor(plmean$type, levels = c("2_way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_21da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'bottom')+
facet_wrap(~type,nrow = 2)
View(us2024)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#plotting
plmean$type <- factor(plmean$type, levels = c("2_Way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_21da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'bottom')+
facet_wrap(~type,nrow = 2)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#plotting
plmean$type <- factor(plmean$type, levels = c("2_Way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_21da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="",caption = "source::538.com")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'bottom',strip.text.x = element_text(
size = 12, color = "black", face = "bold.italic"),strip.text.y = element_text(size = 12,
color = "black", face ="bold.italic"))+
facet_wrap(~type,nrow = 2)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
plmean$type <- factor(plmean$type, levels = c("2_Way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_21da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="",color="",caption = "source::538.com")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'bottom',strip.text.x = element_text(
size = 12, color = "black", face = "bold.italic"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic"))+
facet_wrap(~type,nrow = 2)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
plmean$type <- factor(plmean$type, levels = c("2_Way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_21da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="",color="",caption = "source::538.com")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'bottom',strip.text.x = element_text(
size = 12, color = "black", face = "bold.italic"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic"),strip.background = element_rect(color="black", fill="white", size=1.5, linetype="solid"
))+
facet_wrap(~type,nrow = 2)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
plmean$type <- factor(plmean$type, levels = c("2_Way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_02da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="",color="",caption = "source::538.com")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'none',strip.text.x = element_text(
size = 12, color = "black", face = "bold.italic"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
))+
facet_wrap(~type,nrow = 2)
library(readxl)
library(zoo)
library(dplyr)
library(ggplot2)
library(extrafont)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
plmean$type <- factor(plmean$type, levels = c("2_Way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_02da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="",color="",caption = "source::538.com")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'none',strip.text.x = element_text(
size = 12, color = "black", face = "bold.italic"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
))+
facet_wrap(~type,nrow = 2)
fonts()
library(readxl)
library(zoo)
library(dplyr)
library(ggplot2)
library(extrafont)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
plmean$type <- factor(plmean$type, levels = c("2_Way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_02da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="",color="",caption = "source::538.com")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'none',strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
))+
facet_wrap(~type,nrow = 2)
library(readxl)
library(zoo)
library(dplyr)
library(ggplot2)
library(extrafont)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
plmean$type <- factor(plmean$type, levels = c("2_Way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_02da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="",color="",caption = "source::538.com\njamesstats.github.io/projectx")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'none',strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
),plot.caption = element_text(face = "bold.italic",family = "Andale Mono"))+
facet_wrap(~type,nrow = 2)
library(readxl)
library(zoo)
library(dplyr)
library(ggplot2)
library(extrafont)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
plmean$type <- factor(plmean$type, levels = c("2_Way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_02da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="",color="",caption = "source::538.com(4-day WMA)\njamesstats.github.io/projectx")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'none',strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
),plot.caption = element_text(face = "bold.italic",family = "Andale Mono"))+
facet_wrap(~type,nrow = 2)
library(readxl)
library(zoo)
library(dplyr)
library(ggplot2)
library(extrafont)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
plmean$type <- factor(plmean$type, levels = c("2_Way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_02da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="",color="",caption = "source::538.com(4-day WMA)AtlasIntel,CBS,Civiqs,Cygnal,Emerson,FoxNews,J.L Partners,Marist,NBCNews,NYT/Siena,TippInsights,USAToday,Zogby\njamesstats.github.io/projectx")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'none',strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
),plot.caption = element_text(face = "bold.italic",family = "Andale Mono"))+
facet_wrap(~type,nrow = 2)
library(readxl)
library(zoo)
library(dplyr)
library(ggplot2)
library(extrafont)
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
plmean$type <- factor(plmean$type, levels = c("2_Way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_02da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="",color="",caption = "source::538.com(4-day WMA)AtlasIntel,CBS,Civiqs,Cygnal,Emerson,FoxNews,J.L Partners\nMarist,NBCNews,NYT/Siena,TippInsights,USAToday,Zogby\njamesstats.github.io/projectx")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'none',strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
),plot.caption = element_text(face = "bold.italic",family = "Andale Mono"))+
facet_wrap(~type,nrow = 2)
library(readxl)
library(zoo)
library(dplyr)
library(ggplot2)
library(extrafont)
#feyching the data
us2024<-read_excel("~/Documents/elections_files/ge2024.xlsx")
plmean <- us2024 %>%
dplyr::arrange(desc(candidates)) %>%
dplyr::group_by(candidates) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 4, fill = NA),
pct_03da = zoo::rollmean(pct, k = 6, fill = NA),
pct_05da = zoo::rollmean(pct, k = 8, fill = NA),
pct_21da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
plmean$type <- factor(plmean$type, levels = c("2_Way", "Multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
#plot
ggplot(plmean,aes(x=end_date, y=pct_02da, color=candidates))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
labs(x="",y="",color="",caption = "source::538.com(4-day WMA)AtlasIntel,CBS,Civiqs,Cygnal,Emerson,FoxNews,J.L Partners\nMarist,NBCNews,NYT/Siena,TippInsights,USAToday,Zogby\njamesstats.github.io/projectx")+
scale_colour_manual(values = c('#0099ff', '#ff6666'))+
scale_y_continuous(limits = c(min(30),max(50)))+
theme_bw()+
theme(legend.position = 'none',strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
),plot.caption = element_text(face = "bold.italic",family = "Andale Mono"))+
facet_wrap(~type,nrow = 2)
knitr::US2024.qmd
View(swingstates)
library(extrafont)
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
WI_H2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI_H2H")
# plot
ggplot(WI_H2H, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Wisconsin 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom',plot.title = element_text(family = 'AppleMyungjo',face = 'bold'),
plot.caption = element_text(family = 'AppleMyungjo',face = 'italic')) +
facet_wrap(~TYPE, nrow = 2)
library(extrafont)
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
WI_H2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI_H2H")
#mean of the polls
wimean <- WI_H2H %>%
dplyr::arrange(desc(party)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
# plot
ggplot(wimean, mapping = aes(x=end_date, y=pct_04da, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Wisconsin 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom',plot.title = element_text(family = 'AppleMyungjo',face = 'bold'),
plot.caption = element_text(family = 'AppleMyungjo',face = 'italic')) +
facet_wrap(~TYPE, nrow = 2)
library(extrafont)
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
WI_H2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI_H2H")
#mean of the polls
wimean <- WI_H2H %>%
dplyr::arrange(desc(party)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
# plot
ggplot(wimean, mapping = aes(x=end_date, y=pct_04da, color=answer))+
geom_jitter() +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Wisconsin 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom',plot.title = element_text(family = 'AppleMyungjo',face = 'bold'),
plot.caption = element_text(family = 'AppleMyungjo',face = 'italic')) +
facet_wrap(~TYPE, nrow = 2)
