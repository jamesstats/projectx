sheet = "WI")
head_2_head<-swingstates%>%
filter(TYPE == "h_2_h")
# plot
ggplot(head_2_head, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
scale_colour_manual(values = c('#0099ff', '#ff6666')) +
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI")
head_2_head<-swingstates%>%
filter(TYPE == "h_2_h")
# plot
ggplot(head_2_head, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
scale_colour_manual(values = c('#0099ff', '#ff6666')) +
labs(title = "President:General Election - Pennsylvania 2024",color="",
caption = "source::538.com\njamesstats.github.io/projectx")
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI")
head_2_head<-swingstates%>%
filter(TYPE == "h_2_h")
# plot
ggplot(head_2_head, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
scale_colour_manual(values = c('#0099ff', '#ff6666')) +
labs(title = "President:General Election - Pennsylvania 2024",color="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
View(swingstates)
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI")
third<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(third, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
scale_colour_manual(values = c('#0099ff',"green","yellow","purple", '#ff6666')) +
labs(title = "President:General Election - Pennsylvania 2024",color="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI")
third<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(third, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
scale_colour_manual(values = c('#0099ff',"yellow","green", '#ff6666',"purple")) +
labs(title = "President:General Election - Pennsylvania 2024",color="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI")
third<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(third, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
scale_colour_manual(values = c('#0099ff',"yellow","green", '#ff6666',"purple")) +
labs(title = "President:General Election - Pennsylvania 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI")
third<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(third, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff',"yellow","green", '#ff6666',"purple")) +
labs(title = "President:General Election - Pennsylvania 2024(Third Parties)",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI")
head_2_head<-swingstates%>%
filter(TYPE == "h_2_h")
# plot
ggplot(head_2_head, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
scale_colour_manual(values = c('#0099ff', '#ff6666')) +
labs(title = "President:General Election - Pennsylvania 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "PA")
third<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(third, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff',"yellow","green", '#ff6666',"purple")) +
labs(title = "President:General Election - Wisconsin 2024(Third Parties)",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "PA")
h2h<-swingstates%>%
filter(TYPE == "h_2_h")
# plot
ggplot(h2h, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Pennsylvania 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI")
h2hWI<-swingstates%>%
filter(TYPE == "h_2_h")
# plot
ggplot(h2hWI, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Wisconsin 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI")
h2hMI<-swingstates%>%
filter(TYPE == "h_2_h")
# plot
ggplot(h2hMI, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Pennsylvania 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI")
thirdMI<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(thirdMI, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff',"yellow","green", '#ff6666',"purple")) +
labs(title = "President:General Election - Michigan 2024(Third Parties)",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI")
thirdMI<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(thirdMI, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff',"yellow","green", '#ff6666',"purple")) +
labs(title = "President:General Election - Michigan 2024(Third Parties)",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI")
thirdWI<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(thirdWI, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff',"yellow","green", '#ff6666',"purple")) +
labs(title = "President:General Election - Wisconsin 2024(Third Parties)",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI")
thirdMI<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(thirdMI, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff',"yellow","green", '#ff6666',"purple")) +
labs(title = "President:General Election - Michigan 2024(Third Parties)",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
View(thirdMI)
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI")
thirdMI<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(thirdMI, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff',"yellow","green", '#ff6666',"purple")) +
labs(title = "President:General Election - Michigan 2024(Third Parties)",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
View(h2h)
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "PA")
h2h<-swingstates%>%
filter(TYPE == "h_2_h")
#sma
h2hsma <- h2h %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_03da = zoo::rollmean(pct, k = 3, fill = NA),
pct_05da = zoo::rollmean(pct, k = 5, fill = NA),
pct_07da = zoo::rollmean(pct, k = 7, fill = NA),
pct_15da = zoo::rollmean(pct, k = 15, fill = NA),
pct_21da = zoo::rollmean(pct, k = 21, fill = NA)) %>%
dplyr::ungroup()
# plot
ggplot(h2hsma, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Pennsylvania 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "PA")
h2h<-swingstates%>%
filter(TYPE == "h_2_h")
#sma
h2hsma <- h2h %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_03da = zoo::rollmean(pct, k = 3, fill = NA),
pct_05da = zoo::rollmean(pct, k = 5, fill = NA),
pct_07da = zoo::rollmean(pct, k = 7, fill = NA),
pct_15da = zoo::rollmean(pct, k = 15, fill = NA),
pct_21da = zoo::rollmean(pct, k = 21, fill = NA)) %>%
dplyr::ungroup()
# plot
ggplot(h2hsma, mapping = aes(x=end_date, y=pct_05da, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Pennsylvania 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI")
h2hMI<-swingstates%>%
filter(TYPE == "h_2_h")
#sma
h2hMIsma <- h2hMI %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_03da = zoo::rollmean(pct, k = 3, fill = NA),
pct_05da = zoo::rollmean(pct, k = 5, fill = NA),
pct_07da = zoo::rollmean(pct, k = 7, fill = NA),
pct_15da = zoo::rollmean(pct, k = 15, fill = NA),
pct_21da = zoo::rollmean(pct, k = 21, fill = NA)) %>%
dplyr::ungroup()
# plot
ggplot(h2hMIsma, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Michigan 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI")
thirdMI<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(thirdMI, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff',"yellow","green", '#ff6666',"purple")) +
labs(title = "President:General Election - Michigan 2024(Third Parties)",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI")
thirdMI<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(thirdMI, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
labs(title = "President:General Election - Michigan 2024(Third Parties)",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
View(thirdMI)
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI")
thirdMI<-swingstates%>%
filter(TYPE == "multi")
# plot
ggplot(thirdMI, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/10, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff',"yellow","green", '#ff6666',"purple")) +
labs(title = "President:General Election - Michigan 2024(Third Parties)",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
library(readxl)
library(ggplot2)
library(tidyverse)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "PA")
h2h<-swingstates%>%
filter(TYPE == "h_2_h")
#sma
h2hsma <- h2h %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_03da = zoo::rollmean(pct, k = 3, fill = NA),
pct_05da = zoo::rollmean(pct, k = 5, fill = NA),
pct_07da = zoo::rollmean(pct, k = 7, fill = NA),
pct_15da = zoo::rollmean(pct, k = 15, fill = NA),
pct_21da = zoo::rollmean(pct, k = 21, fill = NA)) %>%
dplyr::ungroup()
# plot
ggplot(h2hsma, mapping = aes(x=end_date, y=pct_05da, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Pennsylvania 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
#barplot
meanh2h<-h2h%>%
group_by(answer,pct)%>%
summarise(avg=mean(pct))
ggplot(meanh2h,aes(x=answer,y=avg, fill=group))+
geom_col(position = position_dodge())
View(meanh2h)
View(meanh2h)
library(readxl)
library(ggplot2)
library(tidyverse)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "PA")
h2h<-swingstates%>%
filter(TYPE == "h_2_h")
#sma
h2hsma <- h2h %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_03da = zoo::rollmean(pct, k = 3, fill = NA),
pct_05da = zoo::rollmean(pct, k = 5, fill = NA),
pct_07da = zoo::rollmean(pct, k = 7, fill = NA),
pct_15da = zoo::rollmean(pct, k = 15, fill = NA),
pct_21da = zoo::rollmean(pct, k = 21, fill = NA)) %>%
dplyr::ungroup()
# plot
ggplot(h2hsma, mapping = aes(x=end_date, y=pct_05da, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Pennsylvania 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
#barplot
meanh2h<-h2h%>%
group_by(party,pct)%>%
summarise(avg=mean(pct))
ggplot(meanh2h,aes(x=answer,y=avg, fill=group))+
geom_col(position = position_dodge())
View(meanh2h)
View(h2hMIsma)
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
swingstates <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI")
h2hWI<-swingstates%>%
filter(TYPE == "h_2_h")
# plot
ggplot(h2hWI, mapping = aes(x=end_date, y=pct, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Wisconsin 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom')
View(h2hWI)
