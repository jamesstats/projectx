labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
# plot
ggplot(pamean, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_point(alpha=1/20, size=5)+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
scale_y_continuous(limits = c(min(30),max(50)))+
labs(color="",x="",y="",title = "Pennsylvania 2024",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw()+
theme(legend.position = 'none',plot.caption = element_text(family = 'Andale Mono',face = 'italic'),
strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
),plot.title = element_text(family = "Andale Mono",face = "bold"))+
facet_wrap(~TYPE, nrow = 2, title())
library(readxl)
library(ggplot2)
library(tidyverse)
library(extrafont)
library(dplyr)
library(lubridate)
paH2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "PA_H2H")
#sma
pamean <- paH2H %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA),
pct_12da = zoo::rollmean(pct, k = 12, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
pamean$TYPE <- factor(pamean$TYPE, levels = c("h_2_h", "multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
# plot
ggplot(pamean, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_point(alpha=1/20, size=5)+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
scale_y_continuous(limits = c(min(30),max(50)))+
labs(color="",x="",y="",title = "Pennsylvania 2024",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw()+
theme(legend.position = 'none',plot.caption = element_text(family = 'Andale Mono',face = 'italic'),
strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
),plot.title = element_text(family = "Andale Mono",face = "bold"))+
facet_grid(~TYPE, nrow = 2)
library(readxl)
library(ggplot2)
library(tidyverse)
library(extrafont)
library(dplyr)
library(lubridate)
paH2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "PA_H2H")
#sma
pamean <- paH2H %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA),
pct_12da = zoo::rollmean(pct, k = 12, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
pamean$TYPE <- factor(pamean$TYPE, levels = c("h_2_h", "multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
# plot
ggplot(pamean, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_point(alpha=1/20, size=5)+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
scale_y_continuous(limits = c(min(30),max(50)))+
labs(color="",x="",y="",title = "Pennsylvania 2024",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw()+
theme(legend.position = 'none',plot.caption = element_text(family = 'Andale Mono',face = 'italic'),
strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
),plot.title = element_text(family = "Andale Mono",face = "bold"))+
facet_wrap(~TYPE, nrow = 2)
library(readxl)
library(extrafont)
library(ggplot2)
library(dplyr)
library(lubridate)
miH2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI_H2H")
#sma
mimean <- miH2H %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA),
pct_10da = zoo::rollmean(pct, k = 12, fill = NA)) %>%
dplyr::ungroup()
# plot
ggplot(mimean, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Michigan 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom',plot.title = element_text(family = 'AppleMyungjo',face = 'bold'),
plot.caption = element_text(family = 'AppleMyungjo',face = 'italic')) +
facet_wrap(~TYPE, nrow = 2)
library(readxl)
library(extrafont)
library(ggplot2)
library(dplyr)
library(lubridate)
miH2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI_H2H")
#sma
mimean <- miH2H %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA),
pct_10da = zoo::rollmean(pct, k = 12, fill = NA)) %>%
dplyr::ungroup()
#renaming the labels
pamean$TYPE <- factor(pamean$TYPE, levels = c("h_2_h", "multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
# plot
ggplot(mimean, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_point(alpha=1/20, size=5) +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Michigan 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'bottom',plot.title = element_text(family = 'Andale Mono',face = 'bold'),
plot.caption = element_text(family = 'Andale Mono',face = 'italic'),
strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"))+
facet_wrap(~TYPE, nrow = 2)
library(readxl)
library(ggplot2)
library(tidyverse)
library(extrafont)
library(dplyr)
library(lubridate)
paH2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "PA_H2H")
#sma
pamean <- paH2H %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA),
pct_12da = zoo::rollmean(pct, k = 12, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
pamean$TYPE <- factor(pamean$TYPE, levels = c("h_2_h", "multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
# plot
ggplot(pamean, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
scale_y_continuous(limits = c(min(30),max(50)))+
labs(color="",x="",y="",title = "President:General Election - Pennsylvania 2024",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw()+
theme(legend.position = 'none',plot.caption = element_text(family = 'Andale Mono',face = 'italic'),
strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
),plot.title = element_text(family = "Andale Mono",face = "bold"))+
facet_wrap(~TYPE, nrow = 2)
library(readxl)
library(extrafont)
library(ggplot2)
library(dplyr)
library(lubridate)
miH2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI_H2H")
#sma
mimean <- miH2H %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA),
pct_10da = zoo::rollmean(pct, k = 12, fill = NA)) %>%
dplyr::ungroup()
#renaming the labels
pamean$TYPE <- factor(pamean$TYPE, levels = c("h_2_h", "multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
# plot
ggplot(mimean, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_jitter() +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Michigan 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'none',plot.title = element_text(family = 'Andale Mono',face = 'bold'),
plot.caption = element_text(family = 'Andale Mono',face = 'italic'),
strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"))+
facet_wrap(~TYPE, nrow = 2)
library(readxl)
library(extrafont)
library(ggplot2)
library(dplyr)
library(lubridate)
miH2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI_H2H")
#sma
mimean <- miH2H %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA),
pct_10da = zoo::rollmean(pct, k = 12, fill = NA)) %>%
dplyr::ungroup()
#renaming the labels
mimean$TYPE <- factor(mimean$TYPE, levels = c("h_2_h", "multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
# plot
ggplot(mimean, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_jitter() +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Michigan 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'none',plot.title = element_text(family = 'Andale Mono',face = 'bold'),
plot.caption = element_text(family = 'Andale Mono',face = 'italic'),
strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"))+
facet_wrap(~TYPE, nrow = 2)
library(extrafont)
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
WI_H2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI_H2H")
#mean of the polls
wimean <- WI_H2H %>%
dplyr::arrange(desc(party)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
# plot
ggplot(wimean, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_jitter() +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Wisconsin 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'none',plot.caption = element_text(family = 'Andale Mono',face = 'italic'),
strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
),plot.title = element_text(family = "Andale Mono",face = "bold"))+
facet_wrap(~TYPE, nrow = 2)
library(extrafont)
library(readxl)
library(ggplot2)
library(dplyr)
library(lubridate)
WI_H2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "WI_H2H")
#mean of the polls
wimean <- WI_H2H %>%
dplyr::arrange(desc(party)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
wimean$TYPE <- factor(wimean$TYPE, levels = c("h_2_h", "multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
# plot
ggplot(wimean, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_jitter() +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
labs(title = "President:General Election - Wisconsin 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'none',plot.caption = element_text(family = 'Andale Mono',face = 'italic'),
strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
),plot.title = element_text(family = "Andale Mono",face = "bold"))+
facet_wrap(~TYPE, nrow = 2)
library(readxl)
library(extrafont)
library(ggplot2)
library(dplyr)
library(lubridate)
miH2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "MI_H2H")
#sma
mimean <- miH2H %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA),
pct_10da = zoo::rollmean(pct, k = 12, fill = NA)) %>%
dplyr::ungroup()
#renaming the labels
mimean$TYPE <- factor(mimean$TYPE, levels = c("h_2_h", "multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
# plot
ggplot(mimean, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_jitter() +
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
scale_y_continuous(limits = c(min(30),max(50)))+
labs(title = "President:General Election - Michigan 2024",color="",x="",y="",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw() +
theme(legend.position = 'none',plot.title = element_text(family = 'Andale Mono',face = 'bold'),
plot.caption = element_text(family = 'Andale Mono',face = 'italic'),
strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"))+
facet_wrap(~TYPE, nrow = 2)
library(ggplot2)
library(lubridate)
library(zoo)
library(dplyr)
library(readxl)
greatbritain <- read_excel("~/Documents/elections_files/greatbritain.xlsx")
greatbritain$end_date <- as.Date(paste(greatbritain$end_date, 1, sep="-"), format="%Y-%m-%d")
greatbritain<-as.data.frame(greatbritain)
ggplot(greatbritain, mapping = aes(x=end_date, y=Share, color=Party))+
geom_point(alpha=1/20, size=5)+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
scale_colour_manual(values = c('blue','green','tomato',"gold","cyan","yellow"))+
theme_bw()+
labs(title = 'Westminster Voting Intention',caption = 'source::britainelects\njamesstats.github.io/projectx',
x='',y='',color='')+
scale_x_date(breaks = "7 days")+
theme(legend.position = 'bottom',plot.title = element_text(face = 'bold'),
plot.caption = element_text(face = 'italic', size = 10))
library(ggplot2)
library(lubridate)
library(zoo)
library(dplyr)
library(readxl)
greatbritain <- read_excel("~/Documents/elections_files/greatbritain.xlsx")
greatbritain$end_date <- as.Date(paste(greatbritain$end_date, 1, sep="-"), format="%Y-%m-%d")
greatbritain<-as.data.frame(greatbritain)
ggplot(greatbritain, mapping = aes(x=end_date, y=Share, color=Party))+
geom_point(alpha=1/20, size=5)+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=2)+
scale_colour_manual(values = c('blue','green','tomato',"gold","cyan","yellow"))+
theme_bw()+
labs(title = 'Westminster Voting Intention',caption = 'source::britainelects\njamesstats.github.io/projectx',
x='',y='',color='')+
scale_x_date(breaks = "7 days")+
theme(legend.position = 'bottom',plot.title = element_text(family = "Andale Mono"),
plot.caption = element_text(face = 'italic',family = "Andale Mono", size = 10),
axis.text.x = element_text(face = "bold", angle = 30),axis.text.y = element_text(face = "bold"))
library(ggplot2)
library(lubridate)
library(zoo)
library(dplyr)
library(readxl)
greatbritain <- read_excel("~/Documents/elections_files/greatbritain.xlsx")
greatbritain$end_date <- as.Date(paste(greatbritain$end_date, 1, sep="-"), format="%Y-%m-%d")
greatbritain<-as.data.frame(greatbritain)
ggplot(greatbritain, mapping = aes(x=end_date, y=Share, color=Party))+
geom_point(alpha=1/20, size=5)+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1.5)+
scale_colour_manual(values = c('blue','green','tomato',"gold","cyan","yellow"))+
scale_x_date(breaks = "5 days")+
theme_bw()+
labs(title = 'Westminster Voting Intention',caption = 'source::britainelects\njamesstats.github.io/projectx',
x='',y='',color='')+
scale_x_date(breaks = "7 days")+
theme(legend.position = 'bottom',plot.title = element_text(family = "Andale Mono"),
plot.caption = element_text(face = 'italic',family = "Andale Mono", size = 10),
axis.text.x = element_text(face = "bold", angle = 30),axis.text.y = element_text(face = "bold"))
library(ggplot2)
library(lubridate)
library(zoo)
library(dplyr)
library(readxl)
greatbritain <- read_excel("~/Documents/elections_files/greatbritain.xlsx")
greatbritain$end_date <- as.Date(paste(greatbritain$end_date, 1, sep="-"), format="%Y-%m-%d")
greatbritain<-as.data.frame(greatbritain)
ggplot(greatbritain, mapping = aes(x=end_date, y=Share, color=Party))+
geom_point(alpha=1/20, size=5)+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1.5)+
scale_colour_manual(values = c('blue','green','tomato',"gold","cyan","yellow"))+
theme_bw()+
labs(title = 'Westminster Voting Intention',caption = 'source::britainelects\njamesstats.github.io/projectx',
x='',y='',color='')+
scale_x_date(breaks = "1 month")+
theme(legend.position = 'bottom',plot.title = element_text(family = "Andale Mono"),
plot.caption = element_text(face = 'italic',family = "Andale Mono", size = 10),
axis.text.x = element_text(face = "bold", angle = 30),axis.text.y = element_text(face = "bold"))
library(ggplot2)
library(lubridate)
library(zoo)
library(dplyr)
library(readxl)
greatbritain <- read_excel("~/Documents/elections_files/greatbritain.xlsx")
greatbritain$end_date <- as.Date(paste(greatbritain$end_date, 1, sep="-"), format="%Y-%m-%d")
greatbritain<-as.data.frame(greatbritain)
ggplot(greatbritain, mapping = aes(x=end_date, y=Share, color=Party))+
geom_point(alpha=1/20, size=5)+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1.5)+
scale_colour_manual(values = c('blue','green','tomato',"gold","cyan","yellow"))+
theme_bw()+
labs(title = 'Westminster Voting Intention',caption = 'source::britainelects\njamesstats.github.io/projectx',
x='',y='',color='')+
scale_x_date(breaks = "9 days")+
theme(legend.position = 'bottom',plot.title = element_text(family = "Andale Mono"),
plot.caption = element_text(face = 'italic',family = "Andale Mono", size = 10),
axis.text.x = element_text(face = "bold", angle = 30),axis.text.y = element_text(face = "bold"))
library(ggplot2)
library(lubridate)
library(zoo)
library(dplyr)
library(readxl)
greatbritain <- read_excel("~/Documents/elections_files/greatbritain.xlsx")
greatbritain$end_date <- as.Date(paste(greatbritain$end_date, 1, sep="-"), format="%Y-%m-%d")
greatbritain<-as.data.frame(greatbritain)
ggplot(greatbritain, mapping = aes(x=end_date, y=Share, color=Party))+
geom_point(alpha=1/20, size=5)+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1.5)+
scale_colour_manual(values = c('blue','green','tomato',"gold","cyan","yellow"))+
theme_bw()+
labs(title = 'Westminster Voting Intention',caption = 'source::britainelects\njamesstats.github.io/projectx',
x='',y='',color='')+
scale_x_date(breaks = "9 days")+
theme(legend.position = 'bottom',plot.title = element_text(family = "Andale Mono"),
plot.caption = element_text(face = 'italic',family = "Andale Mono", size = 10),
axis.text.x = element_text(face = "bold"),axis.text.y = element_text(face = "bold"))
library(readxl)
library(ggplot2)
library(tidyverse)
library(extrafont)
library(dplyr)
library(lubridate)
paH2H <- read_excel("~/Documents/elections_files/swingstates.xlsx",
sheet = "PA_H2H")
#sma
pamean <- paH2H %>%
dplyr::arrange(desc(answer)) %>%
dplyr::group_by(answer) %>%
dplyr::mutate(pct_02da = zoo::rollmean(pct, k = 2, fill = NA),
pct_04da = zoo::rollmean(pct, k = 4, fill = NA),
pct_06da = zoo::rollmean(pct, k = 6, fill = NA),
pct_08da = zoo::rollmean(pct, k = 8, fill = NA),
pct_10da = zoo::rollmean(pct, k = 10, fill = NA),
pct_12da = zoo::rollmean(pct, k = 12, fill = NA)) %>%
dplyr::ungroup()
#changing the labels for the facets
pamean$TYPE <- factor(pamean$TYPE, levels = c("h_2_h", "multi"),
labels = c("Biden vs Trump", "Biden vs Trump with Third Parties")
)
# plot
ggplot(pamean, mapping = aes(x=end_date, y=pct_02da, color=answer))+
geom_jitter()+
geom_smooth(method = 'loess', formula = 'y~x',span=0.5, se=FALSE, lwd=1)+
scale_colour_manual(values = c('#0099ff','#ff6666')) +
scale_y_continuous(limits = c(min(30),max(50)))+
labs(color="",x="",y="",title = "President:General Election - Pennsylvania 2024",
caption = "source::538.com\njamesstats.github.io/projectx")+
theme_bw()+
theme(legend.position = 'none',plot.caption = element_text(family = 'Andale Mono',face = 'italic'),
strip.text.x = element_text(size = 12, color = "black", face = "bold.italic",family = "Andale Mono"),strip.text.y = element_text(size = 8,
color = "black", face ="bold.italic",family = "Andale Mono"),strip.background = element_rect(color="black", fill="white", size=0.5, linetype="solid"
),plot.title = element_text(family = "Andale Mono",face = "bold"))+
facet_wrap(~TYPE, nrow = 2)
